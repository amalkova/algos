# GOIT Algo HW-05 — Пошук підрядка (KMP, Boyer–Moore–Horspool, Rabin–Karp)

## Завдання
Порівняти швидкодію трьох алгоритмів на **двох текстах** для двох типів підрядків:
- `present` — підрядок існує у тексті,
- `absent` — вигаданий (відсутній).

Використати `timeit`, визначити найшвидший:
- для кожного тексту **окремо**,
- **загалом** (усереднено по всіх випадках).

---

## Структура проєкту
```
goit-algo-hw-05/
├── main.py                 # авто-режим: завантажує 2 TXT зі вшитих URL (Google Drive) і запускає бенчмарк
├── bench_search.py         # CLI: --url/--file/--repeats/--csv (підтримка Google Drive view → direct)
├── search_algorithms.py    # реалізації: KMP / Boyer–Moore–Horspool / Rabin–Karp
├── README.md
```

> Хочеш запуск із локальних файлів — поклади їх у `data/стаття 1.txt` та `data/стаття 2.txt` і користуйся `bench_search.py`.

---

## Запуск

### 1) Найпростіше — з `main.py` (URL уже зашиті)
```bash
python3 main.py
```
Скрипт сам:
- підтягне дві статті з Google Drive (TXT),
- обере `present`/`absent` підрядки,
- заміряє час трьох алгоритмів (мінімум з N повторів),
- збереже результати у `results.csv`,
- надрукує переможців та середні значення.

### 2) CLI-режим із власними джерелами (`bench_search.py`)

**URL (підтримує Google Drive `.../file/d/<ID>/view`):**
```bash
python3 bench_search.py   --url "https://drive.google.com/file/d/<ID1>/view"   --url "https://drive.google.com/file/d/<ID2>/view"   --repeats 5   --csv results.csv
```

**Локальні файли:**
```bash
python3 bench_search.py   --file "data/стаття 1.txt"   --file "data/стаття 2.txt"   --repeats 5   --csv results.csv
```

Опційно можна задати свої підрядки:
```
--present1 "..." --absent1 "..." --present2 "..." --absent2 "..."
```

---

## Результати (прогін з repeats=5, беремо мінімум)

| Файл      | Підрядок | KMP (с)  | BMH (с)      | Rabin–Karp (с) | Переможець |
|-----------|----------|----------|--------------|----------------|------------|
| стаття 1  | present  | 0.000559 | **0.000092** | 0.001739       | **BMH**    |
| стаття 1  | absent   | 0.001343 | **0.000134** | 0.003423       | **BMH**    |
| стаття 2  | present  | 0.000734 | **0.000143** | 0.002072       | **BMH**    |
| стаття 2  | absent   | 0.001323 | **0.000180** | 0.003686       | **BMH**    |

**Найшвидший по файлах (avg present+absent):**
- стаття 1 → **BMH** (0.000113 s)  
- стаття 2 → **BMH** (0.000161 s)

**Середній час по алгоритмах (менше = краще):**
- **Boyer–Moore–Horspool**: **0.000137 s**  
- KMP: 0.000990 s  
- Rabin–Karp: 0.002730 s

---

## Висновки
- **Boyer–Moore–Horspool** стабільно найшвидший як на наявних, так і на відсутніх підрядках, завдяки великим зсувам «з кінця» й ефективним пропускам.
- **KMP** дає лінійний час у гіршому випадку та зазвичай другий за швидкістю.
- **Rabin–Karp** зручний для пошуку багатьох шаблонів (ролінг-хеш), але в одиночному пошуку повільніший через накладні витрати хешування.

---

## Репродукування
1. Запустити `python3 main.py` (або CLI-варіант з `bench_search.py`).  
2. Переконатися, що з’явився `results.csv`